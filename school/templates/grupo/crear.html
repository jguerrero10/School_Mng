{% extends 'layout.html' %}
{% load static %}

{% block title%} Grupo | Crear {% endblock %}

{% block style %}

{% endblock style %}

{% block menu %}

{% endblock menu %}

{% block main %}
<div class="card">
    <div class="card-header">
        <h3 class="page-section-heading text-center text-uppercase text-secondary mb-0">Crear Grupo</h3>
    </div>
    <div class="card-body">
        <form id="formGrupo">
            {% csrf_token %}            
            <div class="row mb-3">
                <label for="id_curso" class="col-sm-1 col-form-label">Curso:</label>
                <div class="col-sm-10">
                    {{ formGrupo.curso }}
                </div>
                <div class="col-sm-1">
                    <button id="btnCurso" type="button" class="btn">
                        <i class="fas fa-plus-circle"></i>
                    </button>
                </div>
            </div>
            <div class="row mb-3">
                <label for="id_nombre" class="col-sm-1 col-form-label">Nombre:</label>
                <div class="col-sm-10">
                    {{ formGrupo.nombre }}
                </div>                
            </div>
            <div class="row mb-3">
                <label for="id_dir_grupo" class="col-sm-1 col-form-label">Dir. Grupo:</label>
                <div class="col-sm-10">
                    {{ formGrupo.dir_grupo }}
                </div>
                <div class="col-sm-1">
                    <button id="btnProfesor" type="button" class="btn">
                        <i class="fas fa-plus-circle"></i>
                    </button>
                </div>
            </div>
            <button type="button" onclick="formularioGrupo()" class="btn btn-primary">Guardar</button>            
        </form>        
    </div>
</div>

{% endblock main %}

{% block script %}
<script>
    function formularioCurso(){
        formulario = $('#formGrado').serialize();        
        url = "{% url 'crear_curso' %}";
        gestionForm(url, formulario)
    }
    function formularioProfesor(){
        formulario = $('#formProfesor').serialize();        
        url = "{% url 'crear_profesor' %}";
        gestionForm(url, formulario)
    }
    function formularioGrupo(){
        url = "{% url 'crear_grupo' %}";
        formulario = $("#formGrupo").serialize();            
        gestionForm_nm(url, formulario); 
    }

    $(function() {         
        $("#btnCurso").click(function(){ 
            url = "{% url 'crear_curso' %}";         
            ejecutarModal(url);                 
        });
        $("#btnProfesor").click(function(){
            url = "{% url 'crear_profesor' %}";
            ejecutarModal(url);
        });                    
    });
</script>
    
{% endblock script %}
